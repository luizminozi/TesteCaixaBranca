package login;

import java.sql.Connection;
import java.sql.DriverManager;  
import java.sql.ResultSet;
import java.sql.Statement;

 public class User {
     /**
     * Método para estabelecer uma conexão com o banco de dados.
     * @return A conexão estabelecida.
     */
    public Connection conectarBD (){
            Connection conn = null;
            try{
                Class.forName("com.mysql.Driver.Manager").newInstance();
                String url="jdbc:mysql://127.0.0.1/test?user=lopes&password=123";
                conn = DriverManager.getConnection (url);
            } catch (Exception e) { }
            return conn;}
    /**
     * Nome do usuário.
     */
    public String nome="";
    
    /**
     * Resultado da verificação de usuário.
     */
    public boolean result = false;
     /**
     * Método para verificar a autenticação do usuário.
     * @param login O nome de usuário.
     * @param senha A senha do usuário.
     * @return Verdadeiro se a autenticação for bem-sucedida, falso caso contrário.
     */
    public boolean verificarUsuario (String login, String senha) { 
        String sql = "";
        Connection conn = conectarBD (); 
        //INSTRUÇÃO SQL
        sql = "select nome from usuarios "; 
        sql += "where login = " + "'" + login + "'"; 
        sql += " and senha = " + "'" + senha + "';";
        try{
            Statement st = conn.createStatement(); 
            ResultSet rs = st.executeQuery (sql); 
            if (rs.next()){
                result = true;
                nome = rs.getString ("nome");}
        } catch (Exception e) { }
        return result; }
}//fim da class
